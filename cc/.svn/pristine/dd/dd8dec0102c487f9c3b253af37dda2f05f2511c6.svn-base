<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
	</head>

	<body >
	   <div class="mui-contain">
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">{{coinType}}</h1>
		</header>
		<div class="mui-content">
		   <div class="walletinfo-list">
		   	<ul class="mui-table-view">
		   	    <li class="mui-table-view-cell" v-for="item in myWallet">
		   	        <a href="javascript:;">
	   	                {{item.typeDes}}
	   	                <p class="mui-ellipsis">{{item.updateTime}}</p>
	   	                <span class="add">{{item.io}}{{item.amount}}</span>
		   	        </a>
		   	    </li>
		   	</ul>
		   </div>
		</div>
	</div>
		<script src="js/mui.min.js"></script>
		<script src="js/app.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			(function($, doc) {
				$.init();
			function getDefaultData(){
				return {
					myWallet:[],
					coinType:''
				}
			}
		
			var detailObj = new Vue({
					el: '.mui-contain',
					data: getDefaultData(),
					methods: {
						resetData: function() {//重置数据
							Object.assign(this.$data, getDefaultData());
						}
						
					}
			});
			initWalletDetailData();
			function initWalletDetailData(){
				var list=[];
				$.getJSON(app.serverApi(app.apiConstant.getAccountDetail),{},function(res){
					app.respondingTo(res.code,function(code){
						if(0!=code){
							plus.nativeUI.toast(res.msg);
						}else{
							var wData =res.data.list;
							for(var i=0;i<wData.length;i++){
								var x =wData[i];
								var json ={};
								if(i==0){
									detailObj.coinType =x.coinType;
								}
								json.updateTime = app.longFymdhms(x.updateTime);
								if(1==x.io){
									json.io = '+';
								}
								if(2==x.io){
									json.io = '-';
								}
								json.amount = x.amount;
								json.typeDes = x.typeDes;
								list.push(json);
							}
							detailObj.myWallet = list;
						}
					})
					
				})
			};
				
				
			}(mui, document));
		
			
		</script>
	</body>

</html>